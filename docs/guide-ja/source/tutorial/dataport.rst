.. _ref-tutorial-dataport:

========================================================================================
RT(Robot Technology)コンポーネントを設計する
========================================================================================
このチュートリアルでは、SysMLを用いて最も基本的なRTコンポーネントを設計する方法と、OpenRTPを用いてRTコンポーネントのソースコードのひな型を生成する方法について説明します。

なお、OpenRTMや、ソースコードを実行する際に必要なOpenRTM-aistの概要やインストール方法は `OpenRTM-aist公式サイト <http://openrtm.org/openrtm/>`_ を参照して下さい。

RTコンポーネントの設計、実行の手順は以下のとおりです。


.. describe:: このチュートリアルで作成するシステムについて
    
  RTC::TimedDouble型のデータポートを1つもつ、RTコンポーネントを設計します。

**ブロック図**


**内部ブロック図**


  * :download:`モデルのダウンロード </sources/tutorial/basic.asml>`

astah* SysMLでRTコンポーネントを設計する
======================================================
まずは、astah* SysMLを起動し、設計するロボットシステムのモデルを管理するプロジェクトを作成します。

ポートを設計する
----------------------------
次にRTコンポーネントにRTC::TimedDouble型のデータを出力するポートを定義してみましょう。

内部ブロック図のツールバー「ポート」を選択し、"myFirstComp:MyFirstComponent"パートの枠線の好きな場所を選択します。するとパート上にポートが作成されます。

  .. hint:: 
     ポートはブロック定義図での設計できます。

ポートには名前を設定する必要があるため、ポートを選択し、プロパティビューからoutという名前を設定して下さい。

.. figure:: /images/tutorial/dataport/port.png
     :alt: image
     
次にポートがRTC::TimedDouble型のデータを出力することを設計します。ポートが扱うデータ型やポートの方向性は、ポートの型となるモデルのフロープロパティで設計します。

